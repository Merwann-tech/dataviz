<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <title>Carrousel rotatif 3 images</title>
  <style>
    .carousel {
      width: 600px;
      margin: 60px auto;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      height: 320px;
    }

    .carousel img {
      width: 180px;
      height: 270px;
      object-fit: cover;
      margin: 0 10px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      position: absolute;
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .controls {
      text-align: center;
      margin-top: 20px;
    }

    button {
      font-size: 2rem;
      padding: 0.5rem 1rem;
      margin: 0 1rem;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <div class="carousel">
    <img src="https://image.tmdb.org/t/p/w500/msISNqhfehAE3xBlIdwK5tBjiev.jpg" class="img" id="img1">
    <img src="https://image.tmdb.org/t/p/w500/opKf1uITVUkm8nteNM54uIgJZKQ.jpg" class="img" id="img2">
    <img src="https://image.tmdb.org/t/p/w500/fbxQ44VRdM2PVzHSNajUseUteem.jpg" class="img" id="img3">
  </div>

  <div class="controls">
    <button id="prev">⬅️</button>
    <button id="next">➡️</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
  <script>
    const images = [
      document.getElementById("img1"),
      document.getElementById("img2"),
      document.getElementById("img3")
    ];

    const positions = [
      { translateX: -200, scale: 0.8, zIndex: 1, opacity: 0.7 },
      { translateX: 0, scale: 1, zIndex: 2, opacity: 1 },
      { translateX: 200, scale: 0.8, zIndex: 1, opacity: 0.7 }
    ];

    function render() {
      images.forEach((img, i) => {
        anime({
          targets: img,
          translateX: positions[i].translateX,
          scale: positions[i].scale,
          opacity: positions[i].opacity,
          duration: 800,
          easing: 'easeInOutQuad'
        });
        img.style.zIndex = positions[i].zIndex;
      });
    }

    document.getElementById("next").addEventListener("click", () => {
      images.push(images.shift()); // décale vers la gauche
      render();
    });

    document.getElementById("prev").addEventListener("click", () => {
      images.unshift(images.pop()); // décale vers la droite
      render();
    });

    // Initial setup
    render();
    setInterval(() => {
      images.push(images.shift()); // fait comme un clic sur "next"
      render();
    }, 4000);
  </script>

</body>

</html>